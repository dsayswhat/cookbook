---
layout: layouts/base.njk
---
<article class="recipe">
  <header class="recipe-header">
    <div class="recipe-title-row">
      <h1 class="recipe-title">{{ title }}</h1>
      <button id="wake-lock-toggle" class="wake-lock-button" aria-label="Toggle screen wake lock" aria-pressed="false" style="display: none;">
        <span id="wake-lock-inactive" class="wake-lock-icon">‚òÄÔ∏è</span>
        <span id="wake-lock-active" class="wake-lock-icon" style="display: none;">üîÜ</span>
        <span class="wake-lock-label">Keep Awake</span>
      </button>
    </div>
    
    <div class="recipe-meta">
      {% if metadata.categories %}
        <div class="recipe-meta-item recipe-categories">
          <span class="recipe-meta-label">Categories:</span> 
          <span class="recipe-meta-value">{{ metadata.categories | join(", ") }}</span>
        </div>
      {% endif %}
      
      {% if metadata.cuisine %}
        <div class="recipe-meta-item recipe-cuisine">
          <span class="recipe-meta-label">Cuisine:</span> 
          <span class="recipe-meta-value">{{ metadata.cuisine }}</span>
        </div>
      {% endif %}
      
      {% if metadata.tags %}
        <div class="recipe-meta-item recipe-tags">
          <span class="recipe-meta-label">Tags:</span> 
          <span class="recipe-meta-value">{{ metadata.tags | join(", ") }}</span>
        </div>
      {% endif %}
      
      {% if metadata.difficulty %}
        <div class="recipe-meta-item recipe-difficulty">
          <span class="recipe-meta-label">Difficulty:</span> 
          <span class="recipe-meta-value">{{ metadata.difficulty }}</span>
        </div>
      {% endif %}
      
      {% if timing and timing.total %}
        <div class="recipe-meta-item recipe-time">
          <span class="recipe-meta-label">Total Time:</span> 
          <span class="recipe-meta-value">{{ timing.total }} minutes</span>
        </div>
      {% endif %}
      
      {% if yield %}
        <div class="recipe-meta-item recipe-yield">
          <span class="recipe-meta-label">Yield:</span> 
          <span class="recipe-meta-value">{{ yield.amount }} {{ yield.unit }}</span>
        </div>
      {% endif %}
      
      {% if source_url %}
        <div class="recipe-meta-item recipe-source">
          <span class="recipe-meta-label">Source:</span> 
          <a href="{{ source_url }}" class="recipe-source-link">{{ source_url }}</a>
        </div>
      {% endif %}
    </div>
  </header>

  <div class="recipe-content">
    {{ content | safe }}
  </div>
</article>

<script src="{{ '/js/wake-lock.js' | url }}"></script>
